"use strict";angular.module("eliApp",["ngAnimate","ngRoute"]).config(["$routeProvider",function(e){e.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"vm"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"vm"}).otherwise({redirectTo:"/"})}]),function(){function e(){function e(e,n){if(n){var r=[],t=0;angular.forEach(e,function(e){for(var o={Language:e.Language,Score:0},i=0;i<n.length-1;i++)for(var a=n[i],u=n[i+1],f=0;f<e.Matrix.length;f++){var c=e.Matrix[f];if(c.Char===a){var l=0;c[u]&&(l=parseFloat(c[u])),NaN!==l&&(o.Score+=l);break}}r.push(o),t+=o.Score});for(var o=0;o<r.length;o++)r[o].Percentage=Math.round(r[o].Score/t*100,2);var i=_.max(r,function(e){return e.Score});return{Scores:r,MostLikelyLanguage:i}}}return{identify:e}}angular.module("eliApp").factory("languageIdentifier",e)}(),function(){function e(e){function n(n){return e(function(e,r){JSZipUtils.getBinaryContent(n,function(n,t){n&&r(n);var o=[];JSZip.loadAsync(t).then(function(n){n.forEach(function(r,t,i){t.async("string").then(function(r){o.push(JSON.parse(r.trim())),o.lenth==n.length&&e(o)})})},function(e){r(e)})})})}return{getSignaturesFromZip:n}}angular.module("eliApp").factory("signatureLoaderService",e),e.$inject=["$q"]}(),!function(e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):"undefined"!=typeof window?window.JSZipUtils=e():"undefined"!=typeof global?global.JSZipUtils=e():"undefined"!=typeof self&&(self.JSZipUtils=e())}(function(){return function e(n,r,t){function o(a,u){if(!r[a]){if(!n[a]){var f="function"==typeof require&&require;if(!u&&f)return f(a,!0);if(i)return i(a,!0);throw new Error("Cannot find module '"+a+"'")}var c=r[a]={exports:{}};n[a][0].call(c.exports,function(e){var r=n[a][1][e];return o(r?r:e)},c,c.exports,e,n,r,t)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<t.length;a++)o(t[a]);return o}({1:[function(e,n){function r(){try{return new window.XMLHttpRequest}catch(e){}}function t(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}var o={};o._getBinaryFromXHR=function(e){return e.response||e.responseText};var i=window.ActiveXObject?function(){return r()||t()}:r;o.getBinaryContent=function(e,n){try{var r=i();r.open("GET",e,!0),"responseType"in r&&(r.responseType="arraybuffer"),r.overrideMimeType&&r.overrideMimeType("text/plain; charset=x-user-defined"),r.onreadystatechange=function(){var t,i;if(4===r.readyState)if(200===r.status||0===r.status){t=null,i=null;try{t=o._getBinaryFromXHR(r)}catch(a){i=new Error(a)}n(i,t)}else n(new Error("Ajax error for "+e+" : "+this.status+" "+this.statusText),null)},r.send()}catch(t){n(new Error(t),null)}},n.exports=o},{}]},{},[1])(1)}),function(){function e(e,n,r){function t(){i.scores=i.Language=null;var e=n.identify(a,i.input);e&&(i.scores=e.Scores,i.Language=e.MostLikelyLanguage,i.scores.forEach(function(e){e.Color=o()}))}function o(){for(var e="ffffff";e.startsWith("ff")||"000000"==e;)e=("00000"+(Math.random()*(1<<24)|0).toString(16)).slice(-6);return"#"+e}var i=this;i.input="",i.loadingSignatures=!0,i.showIdentifyingLanguage=!1,i.errorBanner=!1,i.error="",i.identify=t,i.getRandomColor=o;var a=[];r.getSignaturesFromZip("./signature/sig").then(function(e){a=e,i.loadingSignatures=!1},function(e){i.errorBanner=!0,i.error=e})}angular.module("eliApp").controller("MainCtrl",e),e.$inject=["$http","languageIdentifier","signatureLoaderService"]}(),angular.module("eliApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]});